<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SunSide</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f0f0f0;
    color: #333;
}
header {
    background: #0084ff;
    color: white;
    padding: 1.5rem;
    text-align: center;
}
main {
    max-width: 960px;
    margin: 2rem auto;
    padding: 0 1rem;
}
section {
    margin-bottom: 2rem;
}
footer {
    text-align: center;
    padding: 1rem;
    background: #222;
    color: #eee;
}
label {
    display: block;
    margin-top: 0.5rem;
}
input, select {
    padding: 0.4rem;
    width: 100%;
    max-width: 300px;
}
button {
    margin-top: 1rem;
    padding: 0.5rem 1rem;
}
#result {
    margin-top: 1rem;
    font-weight: bold;
}
</style>
</head>
<body>
<header>
    <h1>SunSide</h1>
    <p>Finde die beste Sitzseite im Zug – Sonne oder Schatten</p>
</header>
<main>
    <section>
        <h2>Berechnung</h2>
        <form id="sun-form">
            <label>Startbahnhof
                <input id="start" required>
            </label>
            <label>Zielbahnhof
                <input id="dest" required>
            </label>
            <label>Abfahrtsdatum &amp; Zeit
                <input id="dt" type="datetime-local" required>
            </label>
            <label>Präferenz
                <select id="pref">
                    <option>Schatten bevorzugen</option>
                    <option>Sonne bevorzugen</option>
                </select>
            </label>
            <button type="submit">Berechnen</button>
        </form>
        <div id="result"></div>
    </section>
    <section>
        <h2>Download &amp; Nutzung</h2>
        <p>Der Quellcode der Streamlit-App ist auf <a href="https://github.com/example/SunSide">GitHub</a> verfügbar.
           Nach dem Klonen lässt sich die App mit <code>streamlit run sun_side_app.py</code> starten.</p>
    </section>
</main>
<footer>
    &copy; 2025 SunSide
</footer>
<script>
document.getElementById('sun-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const payload = {
        start: document.getElementById('start').value,
        dest: document.getElementById('dest').value,
        datetime: document.getElementById('dt').value,
        pref: document.getElementById('pref').value
    };
    const res = await fetch('/calculate', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(payload)
    });
    const data = await res.json();
    document.getElementById('result').textContent = data.result || data.error || 'Fehler';
});
</script>
</body>
</html>
